[
  {
    "id": "0ef9ac70dc112edf",
    "type": "tab",
    "label": "ç”Ÿæˆ0180è§„èŒƒ - äº‹ä»¶ä¸ŠæŠ¥javabeanä»£ç ",
    "disabled": false,
    "info": "# ç”¨noderedå°†pdfä¸­çš„è¡¨æ ¼ç”Ÿæˆjavabeançš„å°ä¾‹å­\n\n## å‡†å¤‡\n1. å®‰è£…nodejs\n2. `npm i -g node-red`\n3. `node-red`\n4. æµè§ˆå™¨æ‰“å¼€[http://localhost:1880/](http://localhost:1880/)\n5. å°†flows.jsonå¯¼å…¥\n\n## è¿è¡Œ\n\n0. cmdï¼š`cd ä½ çš„å…¨å±€node_modulesç›®å½•/node-red`ï¼Œ`npm i chance`\n1. ç”¨ç¨‹åºæå‰æå–pdfä¸­çš„è¡¨æ ¼åˆ°txtï¼ˆæˆ‘å·²ç»æå‰å¤„ç†å¥½ï¼‰ï¼Œcmdï¼š`cd 0180`\n2. cmdï¼š`npm i -g live-server`\n3. cmdï¼š`ipconfig`ï¼Œè®°ä½ä½ çš„ip\n4. åŒå‡»æ³¨å…¥å‚æ•°èŠ‚ç‚¹\n5. é…ç½®urlä¸­çš„ipéƒ¨åˆ†\n6. cmdï¼š`live-server`ï¼Œå›è½¦\n7. ç‚¹å‡»æ³¨å…¥å‰é¢çš„å°æ–¹å—\n8. ç‚¹å‡»å³ä¾§â€œç“¢è™«â€ğŸæŒ‰é’®ï¼Œå¯ä»¥çœ‹åˆ°æ‰“å°å‡ºçš„javabean\n\n",
    "env": []
  },
  {
    "id": "4e1c72e9c6ca23f3",
    "type": "inject",
    "z": "0ef9ac70dc112edf",
    "name": "",
    "props": [
      {
        "p": "structName",
        "v": "EventUp",
        "vt": "str"
      },
      {
        "p": "structComment",
        "v": "0180-äº¤é€šäº‹ä»¶ä¿¡æ¯",
        "vt": "str"
      },
      {
        "p": "fields",
        "v": "",
        "vt": "str"
      },
      {
        "p": "url",
        "v": "http://192.168.1.100:8080/äº¤é€šäº‹ä»¶åˆ—è¡¨.txt",
        "vt": "str"
      }
    ],
    "repeat": "",
    "crontab": "",
    "once": false,
    "onceDelay": 0.1,
    "topic": "",
    "x": 270,
    "y": 240,
    "wires": [["32171e3b702b05b2"]]
  },
  {
    "id": "ce280541edd82615",
    "type": "http request",
    "z": "0ef9ac70dc112edf",
    "name": "è·å–äº¤é€šäº‹ä»¶ä¿¡æ¯è¡¨æ ¼",
    "method": "GET",
    "ret": "txt",
    "paytoqs": "ignore",
    "url": "",
    "tls": "",
    "persist": false,
    "proxy": "",
    "authType": "",
    "senderr": false,
    "x": 920,
    "y": 240,
    "wires": [["a12961130f261a4d"]]
  },
  {
    "id": "32171e3b702b05b2",
    "type": "function",
    "z": "0ef9ac70dc112edf",
    "name": "æ³¨å…¥å·¥å…·å‡½æ•°",
    "func": "const chance = new Chance();\nfunction getFieldType(fn, ft) {\n  var fieldType = \"\";\n  switch (ft) {\n    case \"Long\":\n    case \"Integer\":\n    case \"String\":\n    case \"Double\":\n      fieldType = ft;\n      break;\n    case \"ENUMERATED\":\n      fieldType = \"Integer\";\n      break;\n    case \"SEQUENCE\":\n      fn = fn.replace(\"list\", \"\");\n      fn = fn.replace(\"List\", \"\");\n      fieldType = \"List<\" + fn + \"_t>\";\n      break;\n    case \"Boolean\":\n      fieldType = \"boolean\";\n      break;\n    default:\n      break;\n  }\n  return fieldType;\n}\n\n\nfunction getComment(c) {\n  if (c && c.indexOf(\"\\n\") != -1) {\n    return \"/* \" + c + \" */\";\n  } else {\n    return \"// \" + c;\n  }\n}\n\nfunction getRequired(c) {\n  return \"// å¿…å¡«å¦ï¼š\" + c;\n}\n\nfunction getTestValue(ft) {\n  var value = \"\";\n  switch (ft) {\n    case \"Long\":\n      value = chance.integer({ min: 1000000, max: 10000000000000 });\n      break;\n    case \"Integer\":\n      value = chance.integer({ min: 0, max: 1000 });\n      break;\n    case \"String\":\n      value = '\"' + chance.word() + '\"';\n      break;\n    case \"Double\":\n      value = chance.floating({ min: 0, max: 10000, fixed: 2 });\n      break;\n    case \"ENUMERATED\":\n      value = chance.integer({ min: 0, max: 10 });\n      break;\n    case \"SEQUENCE\":\n      value = \"nullptr\";\n      break;\n    case \"Boolean\":\n      value = chance.bool();\n      break;\n    default:\n      break;\n  }\n  return value;\n}\n\n\nfunction textToFields(content) {\n  let lines = content.toString().split(\"\\n\");\n\n  var i = 1;\n  var fields = [];\n  var obj = {};\n\n  for (const li in lines) {\n    let line = lines[li];\n    try {\n      const reg = /^[0-9]*$/;\n      if (reg.test(line)) {\n        i = 1;\n        obj = {};\n      }\n      switch (i) {\n        case 1:\n          obj.id = line;\n          break;\n        case 2:\n          obj.fieldName = line;\n          break;\n        case 3:\n          obj.fieldRequired = line;\n          break;\n        case 4:\n          obj.fieldType = line;\n          break;\n        case 5:\n          obj.fieldComment = line;\n          fields.push(obj);\n          break;\n        default:\n          break;\n      }\n    } catch (e) {}\n    i++;\n  }\n  for (const fi in fields) {\n    var f = fields[fi];\n    f.testValue = getTestValue(f.fieldType);\n    f.fieldComment = getComment(f.fieldComment);\n    f.fieldRequired = getRequired(f.fieldRequired);\n    f.fieldType = getFieldType(f.fieldName, f.fieldType);\n  }\n  return fields;\n}\n\n// msg.payload =  chance.word() ;\nmsg.getFieldType = getFieldType;\nmsg.textToFields = textToFields;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"æˆåŠŸæ³¨å…¥è‡ªå®šä¹‰æ–¹æ³•\"});\n\nreturn msg;",
    "outputs": 1,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [
      {
        "var": "Chance",
        "module": "chance"
      }
    ],
    "x": 560,
    "y": 240,
    "wires": [["ce280541edd82615"]]
  },
  {
    "id": "a12961130f261a4d",
    "type": "function",
    "z": "0ef9ac70dc112edf",
    "name": "å¢åŠ å­—æ®µ",
    "func": "\nmsg.fields = msg.textToFields(msg.payload);\nmsg.filename = msg.structName + '.java';\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"è·å–åˆ°\"+msg.fields.length+\"ä¸ªå­—æ®µ\"});\n\n\nreturn msg;",
    "outputs": 1,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 280,
    "y": 380,
    "wires": [["282afe70d1f1315c"]]
  },
  {
    "id": "282afe70d1f1315c",
    "type": "template",
    "z": "0ef9ac70dc112edf",
    "name": "JavaBeanæ¨¡æ¿",
    "field": "payload",
    "fieldType": "msg",
    "format": "handlebars",
    "syntax": "mustache",
    "template": "// ä½ çš„åŒ…\n// ä½ éœ€è¦çš„å¯¼å…¥\n// è¯­æ³•æ•™ç¨‹ï¼Œ5åˆ†é’ŸåŒ…ä¼šï¼šhttp://mustache.github.io/mustache.5.html\n\n/**\n * {{structComment}}\n */\n@Data\nclass {{structName}}{\n\n{{#fields}}\n    {{{fieldComment}}}\n    private {{{fieldType}}} {{fieldName}};\n{{/fields}}\n}",
    "output": "str",
    "x": 600,
    "y": 380,
    "wires": [["3784ae10a59227dc", "4f784cc58afe9d42"]]
  },
  {
    "id": "3784ae10a59227dc",
    "type": "debug",
    "z": "0ef9ac70dc112edf",
    "name": "æ‰“å°åˆ°è°ƒè¯•çª—å£",
    "active": true,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 920,
    "y": 380,
    "wires": []
  },
  {
    "id": "4f784cc58afe9d42",
    "type": "file",
    "z": "0ef9ac70dc112edf",
    "d": true,
    "name": "ä¿å­˜æ–‡ä»¶",
    "filename": "",
    "appendNewline": true,
    "createDir": false,
    "overwriteFile": "true",
    "encoding": "none",
    "x": 710,
    "y": 500,
    "wires": [[]]
  }
]
